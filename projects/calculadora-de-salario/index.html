<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
	<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
	<link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
	<script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
	<script src="memory.js"></script>
<script>
	function getInput(name) {
		return document.querySelector('input[name="'+name+'"]');
	}
	function addOnChange(name, callback) {
		var element = getInput(name);
		var elementType = element.getAttribute("type");
		var bindedCallback = callback.bind(element);
		if (elementType === "text") {
			var lastValue = element.value;
			var changeVerify = function(event) {
				if (element.value !== lastValue) {
					lastValue = element.value;
					bindedCallback(event);
				}
			}
			element.addEventListener("change", changeVerify);
			element.addEventListener("keyup", changeVerify);
		} else if (elementType === "checkbox") {
			element.addEventListener("change", bindedCallback);
		} else {
			console.warn("Unknown element type: "+elementType);
		}
	}
	function isValidInput(name) {
		return !getInput(name).parentNode.classList.contains("is-invalid") && !isNaN(parseFloat(getInput(name).value));
	}
	function setValue(name, value) {
		if (isNaN(value)) {
			return console.log('Value for "'+name+'" is not a number');
		}
		getInput(name).value = value;
		getInput(name).parentNode.classList.add("is-dirty");
		clear_memory_for_element(name);
		set_memory_for_element(name, value)
	}
</script>
<style>
	.mdl-grid hr {
		border-width: 2px;
		border-color: #444;
		margin-left: -10px;
		margin-right: -10px;
	}
	.mdl-grid .mdl-cell .title {
		color: #555555;
	}
	.semana-setters {
		display: flex;
		justify-content: space-around;
		align-items: center;
	}
	.semana-setters button {
		white-space: nowrap;
		font-size:12px;
	}
	.semana-setters .mdl-badge.mdl-badge--overlap:after {
		opacity: 0;
		transition: opacity 0.09s ease-in-out;
	}
	.semana-setters .mdl-badge.mdl-badge--overlap:hover:after, .semana-setters .mdl-badge.mdl-badge--overlap.selected:after {
		opacity: 1;
	}
	input[readonly].mdl-textfield__input ~ label.mdl-textfield__label, input[readonly].mdl-textfield__input.is-dirty ~ label.mdl-textfield__label {
		color: rgb(55, 134, 45);
	}
	.mdl-layout__header .mdl-layout__drawer-button {
		display: flex;
		justify-content: center;
		align-items: center;
	}
	.mdl-layout__drawer .mdl-navigation .mdl-navigation__link.selected {
		pointer-events: none;
		color: #3b3b3b;
	}
	@media screen and (min-width: 900px) {
		.page-content {
			padding:50px 0;
		}
	}
</style>
<script>
	function change_tab(index) {
		console.log("changed tab ", index);
		window.currentTab = index;
		localStorage.setItem("last-selected-tab", window.currentTab);
		load_all_inputs();

		var navs = document.querySelectorAll(".mdl-navigation");
		navs.forEach(function(nav) {
			if (!nav.children.forEach) {
				nav.children.forEach = Array.prototype.forEach;
			}
			nav.children.forEach((tabElement, tabIndex) => {
				if (tabIndex == window.currentTab) {
					tabElement.classList.add("selected");
				} else {
					tabElement.classList.remove("selected");
				}
			});
		});

		var canDelete = (window.currentTab === window.tabList.length-1 && window.tabList.length > 1);
		document.querySelector(".delete-proposta-btn").style.display = canDelete?"block":"none";
	}
	function add_new_tab() {
		console.log("added tab ");
		var defaultName = "Nova Proposta";
		window.tabList.push(defaultName);
		add_tab_navigation_link(defaultName);
		set_memory_for_element("nome-da-proposta", defaultName, window.tabList.length-1);
		change_tab(window.tabList.length-1);
	}
	function get_tab_name(index) {
		var name = get_memory_for_element("nome-da-proposta", index);
		if (!name && index === 0) {
			return "Proposta Principal";
		}
		if (!name) {
			return false;
		}
		return name;
	}
	function get_tab_list() {
		var result = [];
		var index = 0;
		while (get_tab_name(index)) {
			result.push(get_tab_name(index));
			index++;
		}
		return result;
	}
	function add_tab_navigation_link(elements) {
		var navs = document.querySelectorAll(".mdl-navigation");
		if (!(elements instanceof Array)) {
			elements = [elements];
		}
		navs.forEach(function(nav) {
			var child = nav.lastElementChild;
			elements.forEach(function(tabName, tabIndex) {
				var node = document.createElement("a");
				node.setAttribute("class", "mdl-navigation__link"+(tabIndex == window.currentTab?" selected":""));
				node.setAttribute("href", "#");
				node.setAttribute("ondragstart", "event.preventDefault(); return false;");
				node.setAttribute("ondrop", "event.preventDefault(); return false;");
				node.setAttribute("onclick", "return on_change_tab_press.call(this, event)");
				node.setAttribute("data-index", tabIndex.toString());
				node.innerText = tabName;
				nav.insertBefore(node, child);
			});
		});
	}
	window.addEventListener("load", function() {
		window.tabList = get_tab_list();
		add_tab_navigation_link(window.tabList);
		change_tab(window.currentTab)
	});

	function on_add_new_tab_press(event) {
		event.preventDefault();
		add_new_tab();
		return false;
	}

	function on_current_tab_name_input_change(newName) {
		var navs = document.querySelectorAll(".mdl-navigation");
		navs.forEach(function(nav) {
			if (!nav.children.forEach) {
				nav.children.forEach = Array.prototype.forEach;
			}
			nav.children.forEach((tabElement, tabIndex) => {
				if (tabIndex == window.currentTab) {
					tabElement.innerText = newName;
					window.tabList[tabIndex] = newName;
				}
			});
		});
	}

	function on_change_tab_press(event) {
		event.preventDefault();
		var index = 0;
		var element;
		if (this instanceof HTMLAnchorElement) {
			element = this;
		}
		if (event.target instanceof HTMLAnchorElement) {
			element = event.target;
		}
		if (!(element instanceof HTMLAnchorElement)) {
			console.warn("Could not find anchor element");
			return false;
		}

		var parentChildren = element.parentNode.children;

		for (index = 0 ; index < parentChildren.length; index++) {
			if (element === parentChildren[index]) {
				break;
			}
		}
		if (isNaN(index)) {
			return false;
		}
		change_tab(index);
		return false;
	}
	function on_delete_tab_click(event) {
		event.preventDefault();
		if (window.tabList.length <= 1) {
			alert("Não é possível deletar esta proposta porque ela é a única");
		} else if (confirm("Tem certeza que deseja remover a ultima proposta ("+window.tabList[window.tabList.length-1]+")?")) {
			window.currentTab = window.tabList.length-1;
			clear_memory_for_element("nome-da-proposta");
			window.tabList.pop();
			var navs = document.querySelectorAll(".mdl-navigation");
			navs.forEach(function(nav) {
				if (!nav.children.forEach) {
					nav.children.forEach = Array.prototype.forEach;
				}
				nav.children.forEach((tabElement, tabIndex) => {
					if (tabIndex == window.currentTab) {
						tabElement.remove();
					}
				});
			});
			change_tab(window.currentTab-1);

		}
		return false;
	}
	function clear_everything() {
		document.querySelectorAll('input[type="text"]').forEach(function(element) {
			var elementName = element.getAttribute("name");
			window.tabList.forEach((tabName, tabIndex) => {
				set_memory_for_element(elementName, "", tabIndex);
			});
		});
	}
</script>
</head>
<body>
	<div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
		<header class="mdl-layout__header mdl-layout__header--scroll">
			<div class="mdl-layout__header-row">
				<span class="mdl-layout-title">Calculador de Salário</span>
				<div class="mdl-layout-spacer"></div>
				<nav class="mdl-navigation mdl-layout--large-screen-only" style="max-width: 70%;white-space: nowrap;overflow-y: hidden;overflow-x: auto;">
					<a class="mdl-navigation__link" href="#" ondragstart="event.preventDefault(); return false;" ondrop="event.preventDefault(); return false;" onclick="event.preventDefault(); return false;">
						<button class="mdl-button mdl-js-button mdl-button--fab mdl-button--mini-fab mdl-button--colored mdl-js-ripple-effect" onclick="on_add_new_tab_press(event)" ondragstart="event.preventDefault(); return false;" ondrop="event.preventDefault(); return false;">
							<i class="material-icons">add</i>
						</button>
					</a>
				</nav>
			</div>
		</header>
		<div class="mdl-layout__drawer">
			<span class="mdl-layout-title">Calculador de Salário</span>
			<nav class="mdl-navigation">
				<a style="background-color: rgb(250, 250, 250)" class="mdl-navigation__link" href="#" ondragstart="event.preventDefault(); return false;" ondrop="event.preventDefault(); return false;" onclick="event.preventDefault(); return false;">
					<button class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored mdl-js-ripple-effect" onclick="on_add_new_tab_press(event)" ondragstart="event.preventDefault(); return false;" ondrop="event.preventDefault(); return false;">
						Nova Proposta
					</button>
					<button style="margin-top:5px" class="mdl-button mdl-js-button mdl-button--raised  mdl-button--accent mdl-js-ripple-effect" onclick="event.preventDefault(); (confirm('Tem certeza que deseja remover todas as abas e os numeros que colocou e limpar tudo?') && ([clear_everything(),window.location.reload()]));" ondragstart="event.preventDefault(); return false;" ondrop="event.preventDefault(); return false;">
						Remover Todas
					</button>
					<button style="margin-top:5px" class="mdl-button mdl-js-button mdl-button--raised  mdl-button--accent mdl-js-ripple-effect" onclick="on_delete_tab_click(event)" ondragstart="event.preventDefault(); return false;" ondrop="event.preventDefault(); return false;">
						Remover Ultima
					</button>
				</a>
			</nav>
		</div>
		<main class="mdl-layout__content">
			<div class="page-content" style="display:flex; justify-content:center;">
				<div class="demo-card-wide mdl-card mdl-shadow--2dp">
					<form action="#" class="mdl-card__supporting-text">
						<div class="mdl-grid">
							<div class="mdl-cell mdl-cell--12-col">
								<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
									<input class="mdl-textfield__input" type="text" name="nome-da-proposta" id="nome-da-proposta" value="Proposta Principal" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
									<label class="mdl-textfield__label" for="nome-da-proposta">Nome da Proposta</label>
									<span class="mdl-textfield__error">Valor inválido</span>
								</div>
								<button style="float: right" class="delete-proposta-btn mdl-button mdl-js-button mdl-button--fab mdl-button--mini-fab mdl-button--colored mdl-js-ripple-effect" onclick="on_delete_tab_click(event)" ondragstart="event.preventDefault(); return false;" ondrop="event.preventDefault(); return false;">
									<i class="material-icons">delete</i>
								</button>
							</div>
							<div class="mdl-cell mdl-cell--12-col">
								<h4 class="title">Horas de Trabalho</h4>
							</div>
							<div class="mdl-cell mdl-cell--12-col">
								<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
									<input class="mdl-textfield__input" type="text" pattern="-?[0-9]*(\.[0-9]+)?" name="horas-por-dia" id="horas-por-dia">
									<label class="mdl-textfield__label" for="horas-por-dia">Horas Diárias</label>
									<span class="mdl-textfield__error">Valor inválido</span>
								</div>
							</div>
							<div class="mdl-cell mdl-cell--12-col">
								<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
									<input class="mdl-textfield__input" type="text" pattern="-?[0-7]*(\.[0-7]+)?" name="dias-por-semana" id="dias-por-semana">
									<label class="mdl-textfield__label" for="dias-por-semana">Dias por Semana</label>
									<span class="mdl-textfield__error">Valor inválido</span>
								</div>
								<div class="semana-setters">
									<div class="material-icons mdl-badge mdl-badge--overlap" data-badge="4">
										<button class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored mdl-js-ripple-effect" onclick="event.preventDefault();setValue('dias-por-semana', 4); return updateDiasPorSemana();">Seg-Qui</button>
									</div>
									<div class="material-icons mdl-badge mdl-badge--overlap" data-badge="5">
										<button class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored mdl-js-ripple-effect" onclick="event.preventDefault();setValue('dias-por-semana', 5); return updateDiasPorSemana();">Seg-Sex</button>
									</div>
									<div class="material-icons mdl-badge mdl-badge--overlap" data-badge="6">
										<button class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored mdl-js-ripple-effect" onclick="event.preventDefault();setValue('dias-por-semana', 6); return updateDiasPorSemana();">Seg-Sab</button>
									</div>
								</div>
							</div>
							<div class="mdl-cell mdl-cell--12-col">
								<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
									<input class="mdl-textfield__input" type="text" pattern="-?[0-9]*(\.[0-9]+)?" name="horas-semanal" id="horas-semanal">
									<label class="mdl-textfield__label" for="horas-semanal">Horas Semanais</label>
									<span class="mdl-textfield__error">Valor inválido</span>
								</div>
							</div>
							<div class="mdl-cell mdl-cell--12-col">
								<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
									<input class="mdl-textfield__input" type="text" pattern="-?[0-9]*(\.[0-9]+)?" name="horas-por-mes" id="horas-por-mes">
									<label class="mdl-textfield__label" for="horas-por-mes">Horas Mensais</label>
									<span class="mdl-textfield__error">Valor inválido</span>
								</div>
							</div>
							<script>
								addOnChange("horas-por-mes", function() {
									if (isValidInput("horas-por-mes")) {
										var horasPorSemana = parseFloat(this.value)/4;
										setValue("horas-semanal", horasPorSemana);

										var diasPorSemana = parseFloat(getInput("dias-por-semana").value);
										setValue("horas-por-dia", horasPorSemana/diasPorSemana);
									}
								});
								addOnChange("horas-semanal", function() {
									if (isValidInput("horas-semanal")) {
										var horasPorMes = parseFloat(this.value)*4;
										setValue("horas-por-mes", horasPorMes);

										var horasPorSemana = horasPorMes/4;
										var horasPorDia = horasPorSemana/parseFloat(getInput("dias-por-semana").value);
										setValue("horas-por-dia", horasPorDia);
									}
								});
								addOnChange("horas-por-dia", function() {
									if (isValidInput("horas-por-dia")) {
										var diasPorSemana = parseFloat(getInput("dias-por-semana").value);
										var horasPorDia = parseFloat(this.value);
										var horasPorSemana = horasPorDia*diasPorSemana;
										var horasPorMes = horasPorSemana*4;
										setValue("horas-semanal", horasPorSemana);
										setValue("horas-por-mes", horasPorMes);
									}
								});
								function updateDiasPorSemana() {
									var diasPorSemana = parseFloat(getInput("dias-por-semana").value);
									var horasPorDia = parseFloat(getInput("horas-por-dia").value);
									var horasPorSemana = horasPorDia*diasPorSemana;
									var horasPorMes = horasPorSemana*4;
									setValue("horas-semanal", horasPorSemana);
									setValue("horas-por-mes", horasPorMes);
									selectAcordingBadge();
								}
								function selectAcordingBadge() {
									var diasPorSemanaString = getInput("dias-por-semana").value.toString();
									document.querySelectorAll(".mdl-badge.mdl-badge--overlap").forEach(function(element) {
										if (element.getAttribute("data-badge") === diasPorSemanaString) {
											element.classList.add("selected");
										} else {
											element.classList.remove("selected");
										}
									});
								}
								addOnChange("dias-por-semana", function() {
									if (isValidInput("dias-por-semana")) {
										updateDiasPorSemana();
									}
								});
								window.addEventListener("load", selectAcordingBadge);
							</script>
							<div class="mdl-cell mdl-cell--12-col">
								<h4 class="title">Salário Base</h4>
							</div>
							<div class="mdl-cell mdl-cell--12-col">
								<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
									<input class="mdl-textfield__input" type="text" pattern="-?[0-9]*(\.[0-9]+)?" name="salario-base-por-hora" id="salario-base-por-hora">
									<label class="mdl-textfield__label" for="salario-base-por-hora">Salário Base por Hora</label>
									<span class="mdl-textfield__error">Valor inválido</span>
								</div>
							</div>
							<div class="mdl-cell mdl-cell--12-col">
								<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
									<input class="mdl-textfield__input" type="text" pattern="-?[0-9]*(\.[0-9]+)?" name="salario-base-por-semana" id="salario-base-por-semana">
									<label class="mdl-textfield__label" for="salario-base-por-semana">Salário Base Semanal</label>
									<span class="mdl-textfield__error">Valor inválido</span>
								</div>
							</div>
							<div class="mdl-cell mdl-cell--12-col">
								<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
									<input class="mdl-textfield__input" type="text" pattern="-?[0-9]*(\.[0-9]+)?" name="salario-base-por-mes" id="salario-base-por-mes">
									<label class="mdl-textfield__label" for="salario-base-por-mes">Salário Base Mensal</label>
									<span class="mdl-textfield__error">Valor inválido</span>
								</div>
							</div>
							<script>
								addOnChange("salario-base-por-mes", function() {
									if (isValidInput("salario-base-por-mes")) {
										var salarioPorSemana = parseFloat(this.value)/4;
										setValue("salario-base-por-semana", salarioPorSemana);
										var salarioPorHora = (salarioPorSemana/parseFloat(getInput("dias-por-semana").value))/parseFloat(getInput("horas-por-dia").value);
										setValue("salario-base-por-hora", salarioPorHora);

										updateExtraDeFerias();
									}
								});
								addOnChange("salario-base-por-semana", function() {
									if (isValidInput("salario-base-por-semana")) {
										var salarioPorSemana = parseFloat(this.value);
										var salarioPorHora = (salarioPorSemana/parseFloat(getInput("dias-por-semana").value))/parseFloat(getInput("horas-por-dia").value);

										setValue("salario-base-por-mes", salarioPorSemana*4);
										setValue("salario-base-por-hora", salarioPorHora);

										updateExtraDeFerias();
									}
								});
								addOnChange("salario-base-por-hora", function() {
									if (isValidInput("salario-base-por-hora")) {
										var salarioPorHora = parseFloat(this.value);
										var salarioPorDia = salarioPorHora * parseFloat(getInput("horas-por-dia").value);
										var salarioPorSemana = salarioPorDia * parseFloat(getInput("dias-por-semana").value);

										setValue("salario-base-por-semana", salarioPorSemana);
										setValue("salario-base-por-mes", salarioPorSemana*4);

										updateExtraDeFerias();
									}
								});
							</script>
							<div class="mdl-cell mdl-cell--12-col">
								<h4 class="title">Acréscimo de Férias</h4>
							</div>
							<div class="mdl-cell mdl-cell--12-col">
								<label class="mdl-checkbox mdl-js-checkbox mdl-js-ripple-effect" for="ferias-remuneradas">
									<input type="checkbox" id="ferias-remuneradas" name="ferias-remuneradas" class="mdl-checkbox__input" checked>
									<span class="mdl-checkbox__label">Férias Remuneradas</span>
								</label>
							</div>
							<div class="mdl-cell mdl-cell--12-col" data-depends="ferias-remuneradas">
								<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
									<input class="mdl-textfield__input" type="text" pattern="-?[0-9]*(\.[0-9]+)?" name="dias-de-ferias-por-ano" id="dias-de-ferias-por-ano">
									<label class="mdl-textfield__label" for="dias-de-ferias-por-ano">Dias de férias por ano</label>
									<span class="mdl-textfield__error">Valor inválido</span>
								</div>
							</div>
							<div class="mdl-cell mdl-cell--12-col" data-depends="ferias-remuneradas">
								<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
									<input class="mdl-textfield__input" type="text" pattern="-?[0-9]*(\.[0-9]+)?" name="horas-de-ferias-por-ano" id="horas-de-ferias-por-ano">
									<label class="mdl-textfield__label" for="horas-de-ferias-por-ano">Horas de férias por ano</label>
									<span class="mdl-textfield__error">Valor inválido</span>
								</div>
							</div>
							<div class="mdl-cell mdl-cell--12-col">
								<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
									<input class="mdl-textfield__input" type="text" pattern="-?[0-9]*(\.[0-9]+)?" name="extra-de-ferias-remuneradas" id="extra-de-ferias-remuneradas" readonly="readonly">
									<label class="mdl-textfield__label" for="extra-de-ferias-remuneradas">Extra de férias remuneradas por ano</label>
									<span class="mdl-textfield__error">Valor inválido</span>
								</div>
							</div>
							<script>
								function updateExtraDeFerias() {
									if (!getInput("ferias-remuneradas").checked) {
										setValue("extra-de-ferias-remuneradas", 0);
										update_final_salary();
										return false;
									}
									var horasDeFeriasPorAno;
									if (isNaN(parseFloat(getInput("horas-de-ferias-por-ano").value))) {
										if (isNaN(parseFloat(getInput("dias-de-ferias-por-ano").value)) || isNaN(parseFloat(getInput("horas-por-dia").value))) {
											setValue("extra-de-ferias-remuneradas", 0);
											update_final_salary();
											return false;
										}
										horasDeFeriasPorAno = parseFloat(getInput("dias-de-ferias-por-ano").value) * parseFloat(getInput("horas-por-dia").value)
										setValue("horas-de-ferias-por-ano", horasDeFeriasPorAno);
									} else {
										horasDeFeriasPorAno = parseFloat(getInput("horas-de-ferias-por-ano").value);
									}
									setValue("extra-de-ferias-remuneradas", horasDeFeriasPorAno * parseFloat(getInput("salario-base-por-hora").value));
									update_final_salary();
								}
								addOnChange("ferias-remuneradas", function() {
									var isChecked = this.checked;
									document.querySelectorAll('[data-depends="ferias-remuneradas"]').forEach(function(element) {
										element.style.display = isChecked?"block":"none";
									});
									updateExtraDeFerias();
								});
								addOnChange("dias-de-ferias-por-ano", function() {
									if (isValidInput("dias-de-ferias-por-ano") && !isNaN(parseFloat(getInput("horas-por-dia").value))) {
										var horasPorDia = parseFloat(getInput("horas-por-dia").value);
										var diasPorAno = parseFloat(this.value);
										var horasFeriasPorAno = horasPorDia * diasPorAno;
										setValue("horas-de-ferias-por-ano", horasFeriasPorAno);

										updateExtraDeFerias();
									};
								});
								addOnChange("horas-de-ferias-por-ano", function() {
									if (isValidInput("horas-de-ferias-por-ano") && !isNaN(parseFloat(getInput("horas-por-dia").value))) {
										var horasPorDia = parseFloat(getInput("horas-por-dia").value);
										var horasPorAno = parseFloat(this.value);
										var diasPorAno = horasPorAno/horasPorDia;
										setValue("dias-de-ferias-por-ano", diasPorAno);

										updateExtraDeFerias();
									};
								});
								window.addEventListener("load", function() {
									setTimeout(function() {
										if (isNaN(parseFloat(getInput("extra-de-ferias-remuneradas").value))) {
											updateExtraDeFerias();
										}
									}, 100);
								});
							</script>
							<div class="mdl-cell mdl-cell--12-col">
								<h4 class='title'>Extras</h4>
							</div>
							<div class="mdl-cell mdl-cell--12-col">
								<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
									<input class="mdl-textfield__input" type="text" pattern="-?[0-9]*(\.[0-9]+)?" name="extra-final-por-ano" id="extra-final-por-ano" default-value="0" value="0">
									<label class="mdl-textfield__label" for="extra-final-por-ano">Extra salarial por ano</label>
									<span class="mdl-textfield__error">Valor inválido</span>
								</div>
							</div>
							<div class="mdl-cell mdl-cell--12-col">
								<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
									<input class="mdl-textfield__input" type="text" pattern="-?[0-9]*(\.[0-9]+)?" name="extra-final-por-mes" id="extra-final-por-mes" default-value="0" value="0">
									<label class="mdl-textfield__label" for="extra-final-por-mes">Extra salarial por mes</label>
									<span class="mdl-textfield__error">Valor inválido</span>
								</div>
							</div>
							<div class="mdl-cell mdl-cell--12-col">
								<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
									<input class="mdl-textfield__input" type="text" pattern="-?[0-9]*(\.[0-9]+)?" name="extra-final-por-dia" id="extra-final-por-dia" default-value="0" value="0">
									<label class="mdl-textfield__label" for="extra-final-por-dia">Extra salarial por dia trabalhado</label>
									<span class="mdl-textfield__error">Valor inválido</span>
								</div>
							</div>
							<div class="mdl-cell mdl-cell--12-col">
								<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
									<input class="mdl-textfield__input" type="text" pattern="-?[0-9]*(\.[0-9]+)?" name="extra-acumulado-por-ano" id="extra-acumulado-por-ano" default-value="0" value="0" readonly="readonly">
									<label class="mdl-textfield__label" for="extra-acumulado-por-ano">Extra acumulado por ano</label>
									<span class="mdl-textfield__error">Valor inválido</span>
								</div>
							</div>
							<script>
								function update_extra_acumulado() {
									var extraPorAno = isNaN(parseFloat(getInput("extra-final-por-ano").value))?0:parseFloat(getInput("extra-final-por-ano").value);
									var extraPorMes = isNaN(parseFloat(getInput("extra-final-por-mes").value))?0:parseFloat(getInput("extra-final-por-mes").value);
									var extraPorDia = isNaN(parseFloat(getInput("extra-final-por-dia").value))?0:parseFloat(getInput("extra-final-por-dia").value);
									var diasPorSemana = parseFloat(getInput("dias-por-semana").value);
									var diasPorMes = diasPorSemana*4;
									var extraAcumuladoPorMes = (extraPorMes+extraPorDia*diasPorMes);
									var acumulado = extraPorAno+12*extraAcumuladoPorMes;
									setValue("extra-acumulado-por-ano", acumulado);
									update_final_salary();
								}
								addOnChange("dias-por-semana", update_extra_acumulado);
								addOnChange("extra-final-por-ano", update_extra_acumulado);
								addOnChange("extra-final-por-mes", update_extra_acumulado);
								addOnChange("extra-final-por-dia", update_extra_acumulado);
							</script>
							
							<div class="mdl-cell mdl-cell--12-col">
								<h4 class='title'>Gastos</h4>
							</div>
							<div class="mdl-cell mdl-cell--12-col">
								<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
									<input class="mdl-textfield__input" type="text" pattern="-?[0-9]*(\.[0-9]+)?" name="gasto-final-por-ano" id="gasto-final-por-ano" default-value="0" value="0">
									<label class="mdl-textfield__label" for="gasto-final-por-ano">Gasto anual</label>
									<span class="mdl-textfield__error">Valor inválido</span>
								</div>
							</div>
							<div class="mdl-cell mdl-cell--12-col">
								<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
									<input class="mdl-textfield__input" type="text" pattern="-?[0-9]*(\.[0-9]+)?" name="gasto-final-por-mes" id="gasto-final-por-mes" default-value="0" value="0">
									<label class="mdl-textfield__label" for="gasto-final-por-mes">Gasto mensal</label>
									<span class="mdl-textfield__error">Valor inválido</span>
								</div>
							</div>
							<div class="mdl-cell mdl-cell--12-col">
								<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
									<input class="mdl-textfield__input" type="text" pattern="-?[0-9]*(\.[0-9]+)?" name="gasto-final-por-dia" id="gasto-final-por-dia" default-value="0" value="0">
									<label class="mdl-textfield__label" for="gasto-final-por-dia">Gasto por dia trabalhado</label>
									<span class="mdl-textfield__error">Valor inválido</span>
								</div>
							</div>
							<div class="mdl-cell mdl-cell--12-col">
								<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
									<input class="mdl-textfield__input" type="text" pattern="-?[0-9]*(\.[0-9]+)?" name="gasto-acumulado-por-ano" id="gasto-acumulado-por-ano" default-value="0"  value="0" readonly="readonly">
									<label class="mdl-textfield__label" for="gasto-acumulado-por-ano">Gasto acumulado por ano</label>
									<span class="mdl-textfield__error">Valor inválido</span>
								</div>
							</div>
							<script>
								function update_gasto_acumulado() {
									var gastoPorAno = isNaN(parseFloat(getInput("gasto-final-por-ano").value))?0:parseFloat(getInput("gasto-final-por-ano").value);
									var gastoPorMes = isNaN(parseFloat(getInput("gasto-final-por-mes").value))?0:parseFloat(getInput("gasto-final-por-mes").value);
									var gastoPorDia = isNaN(parseFloat(getInput("gasto-final-por-dia").value))?0:parseFloat(getInput("gasto-final-por-dia").value);
									var diasPorSemana = parseFloat(getInput("dias-por-semana").value);
									var diasPorMes = diasPorSemana*4;
									var gastoAcumuladoPorMes = (gastoPorMes+gastoPorDia*diasPorMes);
									var acumulado = gastoPorAno+12*gastoAcumuladoPorMes;
									setValue("gasto-acumulado-por-ano", acumulado);
									update_final_salary();
								}
								addOnChange("dias-por-semana", update_gasto_acumulado);
								addOnChange("gasto-final-por-ano", update_gasto_acumulado);
								addOnChange("gasto-final-por-mes", update_gasto_acumulado);
								addOnChange("gasto-final-por-dia", update_gasto_acumulado);
							</script>
							<div class="mdl-cell mdl-cell--12-col">
								<h4 class='title'>Salário Final</h4>
							</div>
							<div class="mdl-cell mdl-cell--12-col">
								<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
									<input class="mdl-textfield__input" type="text" pattern="-?[0-9]*(\.[0-9]+)?" name="salario-final-por-ano" id="salario-final-por-ano" readonly="readonly">
									<label class="mdl-textfield__label" for="salario-final-por-ano">Salario Ano</label>
									<span class="mdl-textfield__error">Valor inválido</span>
								</div>
							</div>
							<div class="mdl-cell mdl-cell--12-col">
								<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
									<input class="mdl-textfield__input" type="text" pattern="-?[0-9]*(\.[0-9]+)?" name="salario-final-por-mes" id="salario-final-por-mes" readonly="readonly">
									<label class="mdl-textfield__label" for="salario-final-por-mes">Salario Mes</label>
									<span class="mdl-textfield__error">Valor inválido</span>
								</div>
							</div>
							<div class="mdl-cell mdl-cell--12-col">
								<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
									<input class="mdl-textfield__input" type="text" pattern="-?[0-9]*(\.[0-9]+)?" name="salario-final-por-dia" id="salario-final-por-dia" readonly="readonly">
									<label class="mdl-textfield__label" for="salario-final-por-dia">Salario Dia</label>
									<span class="mdl-textfield__error">Valor inválido</span>
								</div>
							</div>
							<div class="mdl-cell mdl-cell--12-col">
								<div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
									<input class="mdl-textfield__input" type="text" pattern="-?[0-9]*(\.[0-9]+)?" name="salario-final-por-hora" id="salario-final-por-hora" readonly="readonly">
									<label class="mdl-textfield__label" for="salario-final-por-hora">Salario Hora</label>
									<span class="mdl-textfield__error">Valor inválido</span>
								</div>
							</div>
							<script>
								function update_final_salary() {
									var extraPorAno = isNaN(parseFloat(getInput("extra-acumulado-por-ano").value))?0:parseFloat(getInput("extra-acumulado-por-ano").value);
									var gastoPorAno = isNaN(parseFloat(getInput("gasto-acumulado-por-ano").value))?0:parseFloat(getInput("gasto-acumulado-por-ano").value);

									var extraFeriasPorAno = isNaN(parseFloat(getInput("extra-de-ferias-remuneradas").value))?0:parseFloat(getInput("extra-de-ferias-remuneradas").value);									
									var salarioBasePorAno = parseFloat(getInput("salario-base-por-mes").value)*12;
									var horasPorDia = parseFloat(getInput("horas-por-dia").value);
									var horasPorMes = parseFloat(getInput("horas-por-mes").value);

									var salarioPorAno = salarioBasePorAno + extraPorAno - gastoPorAno;
									var salarioPorMes = salarioPorAno/12;
									var salarioPorHora = salarioPorMes/horasPorMes;

									setValue("salario-final-por-ano", salarioPorAno);
									setValue("salario-final-por-mes", salarioPorMes);
									setValue("salario-final-por-dia", salarioPorHora*horasPorDia);
									setValue("salario-final-por-hora", salarioPorHora);
								}
							</script>
						</div>
					</form>
				</div>
			</div>
		</main>
	</div>
</body>
</html>
